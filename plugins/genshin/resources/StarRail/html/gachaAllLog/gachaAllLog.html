<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
  <link rel="shortcut icon" href="#"/>
  <link rel="stylesheet" type="text/css" href="{{pluResPath}}html/gachaAllLog/gachaAllLog.css"/>
  <link rel="preload" href="{{resPath}}font/tttgbnumber.ttf" as="font">
  <link rel="preload" href="{{pluResPath}}img/worldcard/星穹列车.png" as="image">
  {{@headStyle}}
</head>
<body id="container" class="body_box">
<div class="container" style="width:{{data.length* 500}}px">
  {{each data log}}
  <div class="info_box" >
    <div class="head_box">
      <div class="id_text">
        ID: {{log.uid}}
      </div>
      <h2 class="day_text">
        {{log.allNum}}抽
        <span class="label label_{{type}}">{{log.typeName}}池</span>
      </h2>
      <img class="starrail_logo" src="{{pluResPath}}img/other/logo.png"/>
    </div>
    <div class="data_box">
      <div class="tab_lable">数据总览</div>
      {{each log.line val}}
      <div class="data_line">
        {{each val item}}
        <div class="data_line_item">
          <div class="num">{{item.num}}<span class="unit">{{item.unit}}</span></div>
          <div class="lable">{{item.lable}}</div>
        </div>
        {{/each}}
      </div>
      {{/each}}
      <div class="line_box">
        <span class="line"></span>
        <span class="text">五星历史 {{firstTime}} ~ {{lastTime}}</span>
        <span class="line"></span>
      </div>
      <div class="card_list">
        {{each log.fiveLog val}}
        <div class="item {{val.isNull?'isNull':''}} star5 {{val.num<=10?'gold': (val.num<log.max*0.5 ? 'good' : (val.num<log.max*0.83) ? 'normal': 'bad')}}">
          {{ if val.isUp && typeName == '角色' }}
          <span class="minimum">UP</span>
          {{/if}}
          {{ if val.isNull }}
          <div class="role"></div>
          <div class="num_name">{{val.num}}</div>
          {{/if}}
          {{ if !val.isNull }}
          <img class="role"
               src="{{pluResPath}}img/{{val.item_type=='角色'?'role':'weapon'}}/{{val.name}}.webp"
               onerror="whenError(this,'{{val.item_type=='角色'?'role':'weapon'}}')"/>
          <!-- <div class="num">{{val.num}}</div>-->
          <div class="num_name {{val.num<=10?'gold': (val.num<log.max*0.5 ? 'good' : (val.num<log.max*0.83) ? 'normal': 'bad')}}" >{{val.num}}</div>
          {{/if}}
        </div>
        {{/each}}
      </div>
    </div>
  </div>
  {{/each}}
  <div class="logo">Created By Miao-Yunzai</div>
</div>
</body>
<script type="text/javascript">
  function whenError(a, type) {
    // a.onerror = null;
    // if(type=="role"){
    //   a.src = "{{_res_path}}/genshin/logo/role/荧.png";
    // }else{
    //   a.src = "{{_res_path}}/genshin/logo/weapon/旅行剑.png";
    // }
  }
</script>
</html>
